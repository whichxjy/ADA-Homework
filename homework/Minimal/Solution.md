# Solution

题意：给出两个集合 S1 和 S2 ，在 S2 中选出一些不重复的数与 S1 的每个数匹配，使得匹配的数的差的绝对值之和尽量小。

注意到假设我们从 S2 中选择了某些数，并假设选出的数组成 S3，那么 S3 中最小的数肯定匹配 S1 中最小的数，S3 中次小的数匹配 S1 中次小的数...

证明：

```
假设 S1 中有了a1、a2, S3中有 b1、b2，且 a1 <= a2, b1 <= b2。
那么有 |a1 - b1| + |a2 - b2| <= |a1 - b2| + |a2 - b1|，
所以从小到大一个个匹配不会更差，只会更好。
```

解法：**动态规划**。

对 S1 和 S2 都从小到大排序。令 f[i][j] 表示 S1 中的前 i 个数，与 S2 中的前 j 个数匹配（从 j 个数中选 i 个数出来匹配）。
那么只需要检查 i <= j 的情况，递推方程如下：

```
f[i][j] = min {f[i - 1][j - 1] + abs(S1[i] - S2[j]), f[i][j - 1]}, j >= i
```

边界条件：

```
f[0][k] = 0， 0 <= k <= M
f[i][i] = f[i - 1][i - 1] + abs(S1[i] - S2[i])
```

可以自顶向下思考：对于一个给定的 i 而要求出 f[i][j] （j > i，如果 i = j 则一定要选）时，是否要将 S2[j] 加入 S3 以形成最优解？

情况 1：将 S2[j] 加入 S3，此时 S2[j] 会和 S1[i] 匹配，将它们的差的绝对值加上 f[i - 1][j - 1] 的值即为 f[i][j]。

情况 2：不将 S2[j] 加入 S3，此时 f[i][j] 的结果等同于 f[i][j - 1]。

分别求出这两种情况的结果，选取更小的值赋予 f[i][j]。

举个例子，比如说要求 f[N][M]，那么就要考虑是否要将 S2[M] 加入 S3，如果要加入，只需求出 abs(S1[N] - S2[M])，再加上取 S1 的前 N - 1 个数和取 S2 的前 M - 1 个数的最优解（即 f[N - 1][M - 1]），即可求出 f[N][M]；如果不加入，只需要考虑 取 S1 的前 N 个数和取 S2 的前 M - 1 个数的最优解（即 f[N][M - 1]）。
